<!DOCTYPE html>
<html data-require="math word-problems chemistry">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Converting Moles to Grams</title>
    <script src="../khan-exercise.js"></script>
    <script type="text/javascript">
        function getMolecule(){
            var allMolecules = [
                ["Na","Cl"],
                ["H","Cl"],
                ["H","F"],
                ["H","I"],
                ["H","H","O"],
                ["H","H","O","O"],
                ["K","I"],
                ["Ca","I","I"],
                ["Mg","F","F"],
                ["C","O","O"],
                ["N","O"],
                ["I","I"],
                ["Cs","I"],
                ["Sr","Br"],
                ["Ag","N","O","O","O"],
                ["H","H"]
                ];
            var pick = randomnumber=Math.floor(Math.random()*allMolecules.length);
            var ans = allMolecules[pick];
            return ans;
        }
        function combineMolecule(molecule){
            var whole = "";
            var n = 1;
            for(i=0;i<molecule.length;i++){
                if(i!=0 && molecule[i] === molecule [i-1]){
                    n++;
                    if(i === molecule.length - 1){
                        whole += "_";
                        whole += n.toString();
                    }
                }
                else if(n > 1){
                    whole += "_";
                    whole += n.toString();
                    n = 1;
                    whole += molecule[i];
                }
                else{
                    whole += molecule[i];
                }
            }
            return whole;
        }
        function getMoleculeMass(molecule_parts){
            var total_mass = 0;
            for(i=0;i<molecule_parts.length;i++){
                for(j=0;j<elements.length;j++){
                    if(molecule_parts[i] == elements[j].symbol){
                        total_mass += elements[j].atomic_weight;
                    }
                }
            }
            return total_mass;
        }
    </script>
</head>
<body>
    <div class="exercise">
        <div class="vars" >
            <var id="MOLECULE_PARTS">getMolecule()</var>
            <var id="MOLECULE">combineMolecule(MOLECULE_PARTS)</var>
            <var id="TOTAL_MASS">round(100*getMoleculeMass(MOLECULE_PARTS))/100</var>
			<var id="MOLES">randRange(10,9999)/1000</var>
        </div>
        
        <div class="problems">
            <div>
                <div class="question">
                    <p>What is the mass of <var>MOLES</var> moles of <code><var>MOLECULE</var></code> ?</p>
                    <p>Give your answer correct to two decimal places.</p>
                </div>
                <div class="solution"><var>TOTAL_MASS</var></div>
            </div>
        </div>
        
        <div class="hints">
            <p>To get molar mass, just add up all the atomic masses, found on the periodic table.</p>
            <p>The molar mass is <var>TOTAL_MASS</var> g/mol.</p>
        </div>
    </div>
</body>
</html>
